<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/static/css/style.css" />

    <title>Car Price Pridiction</title>
  </head>
  <body>
    <nav class="navbar bg-body-tertiary text-center p-3">
      <div class="container-fluid">
        <h2 class="title mb-0 mx-auto">Welcome to car price predictor</h2>
      </div>
    </nav>

    <div
      class="container-fluid row d-flex justify-content-center p-0 m-0 mt-2"
    >
      <form
        action="{{ url_for('perform_prediction') }}"
        method="post"
        class="col-11 col-sm-10 col-md-8 col-lg-7 car-form p-3"
      >
<!--        <div class="text-center mb-4">-->
<!--          <label class="mb-2" for="company">Select Company:</label>-->
<!--          <select-->
<!--            class="form-select"-->
<!--            id="company"-->
<!--            name="company"-->
<!--            required-->
<!--          >-->
<!--            <option selected>Select company</option>-->
<!--            {% for company in companies %}-->
<!--            <option value="{{ company }}">{{ company }}</option>-->
<!--            {% endfor %}-->
<!--          </select>-->
<!--        </div>-->

        <div class="text-center my-4">
          <label class="mb-2" for="car_model">Select car:</label>
          <select class="form-select" id="car_model" name="car_model" required>
            <option selected>Select model</option>
            {% for car in car_names %}
            <option value="{{ car }}">{{ car }}</option>
            {% endfor %}
          </select>
        </div>

        <div class="text-center my-4">
          <label class="mb-2" for="year">Select year of purchase:</label>
          <select class="form-select" id="year" name="year" required>
            <option selected>Select year</option>
            {% for year in years %}
            <option value="{{ year }}">{{ year }}</option>
            {% endfor %}
          </select>
        </div>

        <div class="text-center my-4">
          <label class="mb-2" for="fuel_type">Select fuel type:</label>
          <select class="form-select" id="fuel_type" name="fuel_type" required>
            <option selected>Select fuel</option>
            {% for fuel in fuel_type %}
            <option value="{{ fuel }}">{{ fuel }}</option>
            {% endfor %}
          </select>
        </div>

        <div class="text-center my-4">
          <label class="mb-2" for="drive">Select fuel type:</label>
          <select class="form-select" id="drive" name="drive" required>
            <option selected>Select drive</option>
            {% for type in drive %}
            <option value="{{ type }}">{{ type }}</option>
            {% endfor %}
          </select>
        </div>

        <div class="mb-3 text-center">
            <label for="km_travelled" class="form-label">Enter distance traveled:</label>
            <input type="number" class="form-control", name="km_travelled" id="km_travelled" placeholder="eg. 3000" required>
        </div>
        <button class="btn w-100 mt-4" type="submit">Predict</button>
      </form>

      <div class="text-center mt-4">
        {% if prediction %}
            <p class="h3">Estimated Price: â‚¹{{ prediction }}</p>
        {% endif %}
      </div>
    </div>
    

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
    <!-- <script>
        function load_car_models(company_id, car_model_id)
        {
          var selected_company = document.getElementById(company_id);
          var car_model = document.getElementById(car_model_id);
          console.log(selected_company.value)

          {% for company in companies %}
            if (company.value == "{{ selected_company }}") 
            {
                {% for model in cars %}
                    {% if company in model %}
                        var newOption = document.createElement("option");
                        newOption.value = "{{ model }}";
                        newOption.innerHTML = "{{ model }}";
                        car_model.options.add(newOption);

                    {% endif %}
                {% endfor %}
            }
          {% endfor %}
        }
    </script> -->
  </body>
</html>
